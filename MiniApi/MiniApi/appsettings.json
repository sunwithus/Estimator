// appsettings.json MiniApi
{
  "Kestrel": {
    "Limits": {
      "MaxRequestBodySize": 4073741824, // 4Гб
      "RequestHeadersTimeout": 3600
    },
    "Endpoints": {
      "Http": {
        "Url": "http://0.0.0.0:7321",
        "Protocols": "Http1"
      }
    }
  },
  "runtimeOptions": {
    "configProperties": {
      "System.GC.HeapHardLimit": 0,
      "System.GC.AllowVeryLargeObjects": true
    }
  },
  "UseWordTimestamps": true,
  "CustomModels": {
    "ru": "D:\\AiModels\\Whisper\\ggml-large-v3-russian.bin",
    "uz": "D:\\AiModels\\Whisper\\ggml-tiny-mongolian.bin",
    "zh": "D:\\AiModels\\Whisper\\ggml-tiny-mongolian.bin"
  },
  "WhisperNet": {
    // Максимальное количество одновременно обрабатываемых файлов
    "MaxConcurrentTasks": 1,
    // Количество потоков для обработки (0 = автоматическое определение)
    "Threads": 8,
    // Максимальное количество токенов из предыдущего текста (по умолчанию: 16384)
    "MaxLastTextTokens": 131072,
    // Смещение начала обработки аудио (формат: ЧЧ:ММ:СС)
    "Offset": "00:00:00",
    // Продолжительность обработки аудио (формат: ЧЧ:ММ:СС, 0 = до конца)
    "Duration": "00:00:00",
    // Включить перевод на английский (true/false)
    "Translate": false,
    // Не использовать контекст из предыдущих сегментов (true/false)
    "NoContext": true,
    // Принудительно создавать один сегмент (true/false)
    "SingleSegment": false,
    // Печатать специальные токены (например, <SOT>, <EOT>)
    "PrintSpecialTokens": false,
    // Выводить прогресс обработки в консоль
    "PrintProgress": true,
    // Выводить результаты в консоль
    "PrintResults": true,
    // Включать временные метки в вывод
    "PrintTimestamps": true,
    // Использовать временные метки на уровне токенов (экспериментально)
    "UseTokenTimestamps": true,
    // Порог вероятности для временных меток токенов
    "TokenTimestampsThreshold": 0.005,
    // Порог суммы вероятностей для временных меток токенов
    "TokenTimestampsSumThreshold": 0.005,
    // Максимальная длина сегмента в символах (0 = без ограничений)
    "MaxSegmentLength": 8192,
    // Разделять слова по границам (true/false)
    "SplitOnWord": false,
    // Максимальное количество токенов на сегмент
    "MaxTokensPerSegment": 8192,
    // Размер аудиоконтекста (экспериментально)
    "AudioContextSize": 60,
    // Язык распознавания (код из двух букв или "auto" для автоопределения)
    "Language": "auto",
    // Подавлять пустые выходные данные (true/false)
    "SuppressBlank": true,
    // Температура сэмплинга (влияет на случайность предсказаний)
    "Temperature": 0.7,
    // Максимальное начальное временное смещение
    "MaxInitialTs": 5.0,
    // Штраф за длину сегмента
    "LengthPenalty": 1.5,
    // Увеличение температуры при откате
    "TemperatureInc": 0.1,
    // Порог энтропии для отката
    "EntropyThreshold": 2.0,
    // Порог логарифмической вероятности
    "LogProbThreshold": -2.0, //-0.8
    // Порог определения отсутствия речи
    "NoSpeechThreshold": 0.6, //0.95
    // Вычислять вероятности для сегментов
    "ComputeProbabilities": true
  },
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning"
    }
  },
  "AllowedHosts": "*"
}
